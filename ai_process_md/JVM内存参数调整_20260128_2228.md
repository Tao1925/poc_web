# JVM 内存参数调整

## 目标
- 通过 JVM 参数优化堆与 GC 行为，降低大图片编辑导致的 OOM 风险
- 同时覆盖 `mvn spring-boot:run` 与 `java -jar` 启动方式

## 变更
- `pom.xml` 为 `spring-boot-maven-plugin` 增加默认 JVM 参数（可覆盖）
- 新增 `ai_script/run_jar.sh` 统一 jar 启动参数
- README 补充启动方式与参数说明

## 默认参数
```
-XX:MaxRAMPercentage=70 -XX:InitialRAMPercentage=20 -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=./data/heapdump.hprof
```

## 覆盖方式
- Maven：`mvn spring-boot:run -Dapp.jvm.args="..."`
- Jar：`APP_JVM_ARGS="..." ./ai_script/run_jar.sh`
