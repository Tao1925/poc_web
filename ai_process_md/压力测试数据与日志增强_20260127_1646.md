# 压力测试数据与日志增强

## 目标
- 为所有非 admin 用户与所有题目生成可重复的压力测试答题内容（含图片）
- 增强关键路径日志输出，同时写入控制台与 `data` 目录文件

## 变更概述
- 新增可配置脚本 `ai_script/generate_pressure_data.py`，按 `data.json` 生成答题 HTML 并调用 `/quiz/save` 入库
- 增加系统日志配置 `src/main/resources/logback-spring.xml`，输出到控制台与 `data/app.log`
- 在登录、答题、评分、导出、数据同步等关键路径补充日志

## 脚本使用
```bash
python3 ai_script/generate_pressure_data.py \
  --base-url http://localhost:8080 \
  --min-images 10 \
  --min-text 100 \
  --heavy-images 100 \
  --heavy-text 1000 \
  --heavy-question-index 0 \
  --min-image-kb 300 \
  --formats png,jpeg
```

### 常用参数
- `--data-json`：数据源，默认 `src/main/resources/data.json`
- `--base-url`：服务地址，默认 `http://localhost:8080`
- `--min-images` / `--min-text`：普通题目图片数量与文字长度
- `--heavy-images` / `--heavy-text`：重压题目图片数量与文字长度
- `--heavy-question-index`：重压题目索引（从 0 开始）
- `--min-image-kb`：每张图片最小 KB
- `--formats`：图片格式列表（逗号分隔）
- `--only-user` / `--only-question`：只生成指定用户/题目
- `--dry-run`：仅输出计划，不实际写入

## 关键日志位置
- `LoginController`：登录成功/失败
- `QuizController`：题目加载、答案查询、保存
- `GradingController`：评分、导出
- `QuizLoginDemoApplication`：启动时数据同步

